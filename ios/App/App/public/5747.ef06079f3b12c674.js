"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5747],{5747:(k,d,i)=>{i.r(d),i.d(d,{StockReconciliationPageModule:()=>O});var u=i(2200),_=i(4341),l=i(9893),h=i(8132),n=i(3664),g=i(2615),p=i(4030),M=i(385);function C(c,e){if(1&c){const a=n.RV6();n.j41(0,"div",21)(1,"div")(2,"h3",22),n.EFF(3),n.k0s(),n.j41(4,"p",23),n.EFF(5),n.k0s()(),n.j41(6,"div",24)(7,"div",25)(8,"label"),n.EFF(9,"System Quantity"),n.k0s(),n.nrm(10,"input",26),n.k0s(),n.j41(11,"div",27)(12,"label"),n.EFF(13,"Physical Quantity"),n.k0s(),n.j41(14,"input",28),n.mxI("ngModelChange",function(t){const s=g.eBV(a).$implicit;return n.DH7(s.physical_qty,t)||(s.physical_qty=t),g.Njj(t)}),n.k0s()()()()}if(2&c){const a=e.$implicit;n.R7$(3),n.JRh(a.item_name),n.R7$(2),n.JRh(a.item_code),n.R7$(5),n.Y8G("ngModel",a.system_qty?a.system_qty:0),n.R7$(4),n.R50("ngModel",a.physical_qty)}}const f=[{path:"",component:(()=>{var c;class e{constructor(o){this.db=o,this.conciliation_list=[],this.searchTxt=""}ngOnInit(){}ionViewWillEnter(){this.getStocksReconcilation()}getStocksReconcilation(){let o={pos_profile:localStorage.store_name,search_book:this.searchTxt};this.db.get_stock_reconcilation(o).subscribe(t=>{this.conciliation_list=t&&"Success"==t.status&&t.message&&t.message.item_details&&t.message.item_details.length>0?t.message.item_details:[]})}saveReconciliation(){let o={pos_profile:localStorage.store_name,item_details:this.conciliation_list};this.db.create_stock_reconciliation(o).subscribe(t=>{"Failed"===t.status?this.db.presentToast(t.message.message??"failed... something went wrong","error"):this.db.presentToast(t.message.message??"Success... stock reconciliation created successfully","success")})}handleRefresh(o){setTimeout(()=>{o.target.complete(),this.getStocksReconcilation()},2e3)}onSearchChange(o){const t=o.target.value.toLowerCase();this.searchTxt=t,this.getStocksReconcilation()}static#n=c=()=>(this.\u0275fac=function(t){return new(t||e)(n.rXU(p.Db))},this.\u0275cmp=n.VBU({type:e,selectors:[["app-stock-reconciliation"]],standalone:!1,decls:25,vars:8,consts:[[3,"home","title"],[2,"--background","#f6f7f9",3,"fullscreen"],["slot","fixed",3,"ionRefresh","pullFactor","pullMin","pullMax"],[1,"main_section"],[1,"setHeight"],[1,"stock_reconciliation"],["src","/assets/icon/warning.svg"],[1,"stock_content"],[1,"m-0","label"],[1,"m-0","value"],[1,"section__filters","mb-10"],[1,"section__input"],["placeholder","Search here...","clearInput","",1,"section__input-field",3,"ngModelChange","input","ngModel"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"section__input-icon"],["cx","11","cy","11","r","8"],["d","m21 21-4.3-4.3"],[1,"books_list"],["class","boxes",4,"ngFor","ngForOf"],[1,"save_btn"],["fill","clear",3,"click"],["slot","start","name","save-outline"],[1,"boxes"],[1,"m-0","book_name"],[1,"m-0","sub_title"],[1,"cost_inputs"],[1,"system_quantity"],["type","number","readonly","",3,"ngModel"],[1,"physical_quantity"],["type","number",3,"ngModelChange","ngModel"]],template:function(t,s){1&t&&(n.nrm(0,"app-header",0),n.j41(1,"ion-content",1)(2,"ion-refresher",2),n.bIt("ionRefresh",function(r){return s.handleRefresh(r)}),n.nrm(3,"ion-refresher-content"),n.k0s(),n.j41(4,"div",3)(5,"div",4)(6,"div",5),n.nrm(7,"ion-icon",6),n.j41(8,"div",7)(9,"p",8),n.EFF(10,"Stock Reconciliation"),n.k0s(),n.j41(11,"p",9),n.EFF(12,"Enter the physical count for each item to identify discrepancies"),n.k0s()()(),n.j41(13,"div",10)(14,"div",11)(15,"input",12),n.mxI("ngModelChange",function(r){return n.DH7(s.searchTxt,r)||(s.searchTxt=r),r}),n.bIt("input",function(r){return s.onSearchChange(r)}),n.k0s(),g.qSk(),n.j41(16,"svg",13),n.nrm(17,"circle",14)(18,"path",15),n.k0s()()(),g.joV(),n.j41(19,"div",16),n.DNE(20,C,15,4,"div",17),n.k0s()()(),n.j41(21,"div",18)(22,"ion-button",19),n.bIt("click",function(){return s.saveReconciliation()}),n.nrm(23,"ion-icon",20),n.EFF(24,"Save & Submit Reconciliation"),n.k0s()()()),2&t&&(n.Y8G("home",!1)("title","Stock Reconciliation"),n.R7$(),n.Y8G("fullscreen",!0),n.R7$(),n.Y8G("pullFactor",.5)("pullMin",100)("pullMax",200),n.R7$(13),n.R50("ngModel",s.searchTxt),n.R7$(5),n.Y8G("ngForOf",s.conciliation_list))},dependencies:[u.Sq,_.me,_.Q0,_.BC,_.vS,l.Jm,l.W9,l.iq,l.To,l.Ki,M.l],styles:[".main_section[_ngcontent-%COMP%]{padding:1rem 1rem 0}.main_section[_ngcontent-%COMP%]   .setHeight[_ngcontent-%COMP%]{height:calc(100vh - 145px);overflow:auto}.main_section[_ngcontent-%COMP%]   .stock_reconciliation[_ngcontent-%COMP%]{padding:1rem;background:#0da2e71a;border:1px solid #0da2e7;margin-bottom:1rem;display:flex;gap:.5rem;border-radius:.75rem}.main_section[_ngcontent-%COMP%]   .stock_reconciliation[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{flex:0 0 1.25rem;height:1.25rem}.main_section[_ngcontent-%COMP%]   .stock_reconciliation[_ngcontent-%COMP%]   .stock_content[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;line-height:1.25rem}.main_section[_ngcontent-%COMP%]   .stock_reconciliation[_ngcontent-%COMP%]   .stock_content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;margin-top:.25rem;color:#6b7280}.main_section[_ngcontent-%COMP%]   .books_list[_ngcontent-%COMP%]{height:calc(100vh - 305px);overflow:auto}.main_section[_ngcontent-%COMP%]   .books_list[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]{padding:1rem;margin-bottom:.75rem;background:#fff;border-radius:.75rem}.main_section[_ngcontent-%COMP%]   .books_list[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   .book_name[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;line-height:1.25rem;margin-bottom:7px}.main_section[_ngcontent-%COMP%]   .books_list[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   .sub_title[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;line-height:1rem}.main_section[_ngcontent-%COMP%]   .books_list[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   .cost_inputs[_ngcontent-%COMP%]{margin-top:.75rem;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));width:100%;gap:.75rem}.main_section[_ngcontent-%COMP%]   .books_list[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   .cost_inputs[_ngcontent-%COMP%]   .system_quantity[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .main_section[_ngcontent-%COMP%]   .books_list[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   .cost_inputs[_ngcontent-%COMP%]   .physical_quantity[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#6b7280;font-weight:600;font-size:.75rem;line-height:1rem}.main_section[_ngcontent-%COMP%]   .books_list[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   .cost_inputs[_ngcontent-%COMP%]   .system_quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .main_section[_ngcontent-%COMP%]   .books_list[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   .cost_inputs[_ngcontent-%COMP%]   .physical_quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem;background-color:#f0f2f4;margin-top:.25rem;border-radius:.75rem;border:unset!important}.main_section[_ngcontent-%COMP%]   .books_list[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   .cost_inputs[_ngcontent-%COMP%]   .system_quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .main_section[_ngcontent-%COMP%]   .books_list[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   .cost_inputs[_ngcontent-%COMP%]   .physical_quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:1px solid var(--primary-color)}.save_btn[_ngcontent-%COMP%]{padding:.75rem;border-top:1px solid var(--border-col);background:#fff}.save_btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 2rem;--padding-end: 2rem;--padding-top: .75rem;--padding-bottom: .75rem;width:100%;font-size:.875rem;line-height:1.25rem;font-weight:600;--border-radius: calc(.75rem - 2px) }.save_btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:1rem}.section[_ngcontent-%COMP%]{background:#f6f7f9}.section__group[_ngcontent-%COMP%]{position:sticky;top:0;padding:1rem;border-bottom:1px solid #ddd;z-index:100;background:#fff}.section__input[_ngcontent-%COMP%]{position:relative;width:100%}.section__input-field[_ngcontent-%COMP%]{padding-left:2.5rem;padding-block:.5rem;font-size:1rem;line-height:1.5rem;background:#f6f7f9;border:1px solid #ddd;height:2.5rem;border-radius:.675rem;width:100%}.section__input-field[_ngcontent-%COMP%]:focus{outline:none}.section__input-icon[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);left:.75rem;height:1.25rem;width:1.25rem}"]}))}return c(),e})()}];let P=(()=>{var c;class e{static#n=c=()=>(this.\u0275fac=function(t){return new(t||e)},this.\u0275mod=n.$C({type:e}),this.\u0275inj=g.G2t({imports:[h.iI.forChild(f),h.iI]}))}return c(),e})();var b=i(5553);let O=(()=>{var c;class e{static#n=c=()=>(this.\u0275fac=function(t){return new(t||e)},this.\u0275mod=n.$C({type:e}),this.\u0275inj=g.G2t({imports:[u.MD,_.YN,l.bv,P,b.h]}))}return c(),e})()}}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4949],{4949:(M,g,i)=>{i.r(g),i.d(g,{OrdersPageModule:()=>C});var m=i(2200),p=i(4341),a=i(9893),c=i(8132),e=i(3664),l=i(2615),h=i(4030),_=i(385);function f(r,t){if(1&r&&(e.j41(0,"div",20),e.EFF(1),e.k0s()),2&r){const o=t.$implicit;e.R7$(),e.Lme(" ",o.item_name," \xd7 ",o.qty," ")}}function u(r,t){if(1&r&&(e.j41(0,"div",21)(1,"div",22),e.nrm(2,"img",23),e.j41(3,"span",24),e.EFF(4),e.k0s()(),e.j41(5,"div",25),e.EFF(6),e.k0s()()),2&r){const o=t.$implicit,s=e.XpG(3);e.R7$(2),e.Y8G("src",s.paymentIcons[o.mode_of_payment],e.B4B),e.R7$(2),e.SpI(" ",o.mode_of_payment," "),e.R7$(2),e.SpI(" ",s.db.formatCurrency(o.amount)," ")}}function y(r,t){if(1&r&&(e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div")(4,"h3",10),e.EFF(5),e.k0s(),e.j41(6,"div",11),l.qSk(),e.j41(7,"svg",12),e.nrm(8,"circle",13)(9,"polyline",14),e.k0s(),l.joV(),e.j41(10,"span"),e.EFF(11),e.k0s()()(),e.j41(12,"div",15),e.EFF(13),e.k0s()(),e.j41(14,"div",16)(15,"div",17),e.EFF(16),e.k0s(),e.DNE(17,f,2,2,"div",18),e.k0s(),e.DNE(18,u,7,3,"div",19),e.k0s()()),2&r){const o=t.$implicit;e.R7$(5),e.JRh(o.order_id),e.R7$(6),e.Lme("",o.date," \u2022 ",o.time),e.R7$(2),e.JRh(o.status),e.R7$(3),e.SpI(" ",o.items.length," item(s) "),e.R7$(),e.Y8G("ngForOf",o.items),e.R7$(),e.Y8G("ngForOf",o.payments)}}function v(r,t){if(1&r&&(e.j41(0,"main",5),e.DNE(1,y,19,7,"div",6),e.k0s()),2&r){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.orders)}}function O(r,t){1&r&&(e.j41(0,"div",26)(1,"h2",27),e.EFF(2,"No Orders Yet"),e.k0s(),e.j41(3,"p",28),e.EFF(4,"You haven't placed any orders yet. Start shopping now!"),e.k0s(),e.j41(5,"ion-button",29),e.EFF(6,"Shop Now"),e.k0s()())}const F=[{path:"",component:(()=>{var r;class t{constructor(s){this.db=s,this.orders=[],this.page=1,this.paymentIcons={Cash:"assets/payment-type/wallet.svg",UPI:"assets/payment-type/upi.svg","Credit Card":"assets/payment-type/card.svg",Split:"assets/payment-type/split-payment.svg"}}ngOnInit(){}ionViewWillEnter(){this.getOrdersList()}getOrdersList(){let s={pos_profile:localStorage.store_name,page:this.page,per_page:20,user:localStorage.user_id};this.db.get_orders(s).subscribe(n=>{this.orders=n.message&&n.message.message&&n.message.message.length>0?1===this.page?n.message.message:[...this.orders,...n.message.message]:[]})}handleRefresh(s){setTimeout(()=>{s.target.complete(),this.getOrdersList()},2e3)}static#e=r=()=>(this.\u0275fac=function(n){return new(n||t)(e.rXU(h.Db))},this.\u0275cmp=e.VBU({type:t,selectors:[["app-orders"]],standalone:!1,decls:6,vars:7,consts:[[3,"home"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh","pullFactor","pullMin","pullMax"],["class","order-history bg-background",4,"ngIf"],["class","no-orders",4,"ngIf"],[1,"order-history","bg-background"],["class","order-history__card",4,"ngFor","ngForOf"],[1,"order-history__card"],[1,"order-history__content"],[1,"order-history__header"],[1,"order-history__id"],[1,"order-history__time"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"order-history__icon"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"order-history__status"],[1,"order-history__items"],[1,"order-history__item-count"],["class","order-history__item",4,"ngFor","ngForOf"],["class","order-history__payment",4,"ngFor","ngForOf"],[1,"order-history__item"],[1,"order-history__payment"],[1,"order-history__payment-type"],["alt","payment icon",1,"order-history__payment-icon",3,"src"],[1,"order-history__payment-label"],[1,"order-history__total"],[1,"no-orders"],[1,"no-orders__title"],[1,"no-orders__subtitle"],["routerLink","/catalog",1,"no-orders__button"]],template:function(n,d){1&n&&(e.nrm(0,"app-header",0),e.j41(1,"ion-content",1)(2,"ion-refresher",2),e.bIt("ionRefresh",function(x){return d.handleRefresh(x)}),e.nrm(3,"ion-refresher-content"),e.k0s(),e.DNE(4,v,2,1,"main",3)(5,O,7,0,"div",4),e.k0s()),2&n&&(e.Y8G("home",!0),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(),e.Y8G("pullFactor",.5)("pullMin",100)("pullMax",200),e.R7$(2),e.Y8G("ngIf",d.orders&&d.orders.length>0),e.R7$(),e.Y8G("ngIf",d.orders&&0===d.orders.length))},dependencies:[m.Sq,m.bT,a.Jm,a.W9,a.To,a.Ki,a.N7,c.Wk,_.l],styles:[".order-history[_ngcontent-%COMP%]{flex:1;padding:1rem 1rem 6rem;overflow-y:auto;display:flex;flex-direction:column;height:100%;gap:1rem}.order-history__card[_ngcontent-%COMP%]{background-color:var(--card);border:1px solid var(--border-color);border-radius:.5rem;box-shadow:0 1px 2px #0000000d;padding:1rem;color:var(--card-foreground)}.order-history__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.order-history__id[_ngcontent-%COMP%]{font-weight:600;color:var(--foreground)}.order-history__time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.25rem;font-size:.75rem;color:var(--muted-foreground)}.order-history__status[_ngcontent-%COMP%]{background-color:#16a249;color:var(--primary-foreground);border-radius:9999px;font-size:.75rem;font-weight:600;padding:.25rem .75rem}.order-history__items[_ngcontent-%COMP%]{border-top:1px solid var(--border-color);padding-top:.75rem;display:flex;flex-direction:column;gap:.25rem;margin-block:.75rem}.order-history__item-count[_ngcontent-%COMP%]{font-size:.875rem;color:var(--muted-foreground)}.order-history__item[_ngcontent-%COMP%]{font-size:.875rem;color:var(--foreground)}.order-history__payment[_ngcontent-%COMP%]{border-top:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;padding-top:.75rem}.order-history__payment-icon[_ngcontent-%COMP%]{width:1.125rem;height:1.125rem}.order-history__payment-type[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;text-transform:capitalize;font-size:.875rem;font-weight:500}.order-history__icon[_ngcontent-%COMP%]{width:1rem;height:1rem;color:var(--muted-foreground)}.order-history__total[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:var(--foreground)}.no-orders__image[_ngcontent-%COMP%]{width:150px;margin-bottom:1rem}.no-orders__title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:var(--foreground)}.no-orders__subtitle[_ngcontent-%COMP%]{font-size:1rem;color:var(--muted-foreground);margin-bottom:1.5rem}.no-orders__button[_ngcontent-%COMP%]{--background: var(--primary);--color: var(--primary-foreground)}.no-orders[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:2rem}"]}))}return r(),t})()}];let P=(()=>{var r;class t{static#e=r=()=>(this.\u0275fac=function(n){return new(n||t)},this.\u0275mod=e.$C({type:t}),this.\u0275inj=l.G2t({imports:[c.iI.forChild(F),c.iI]}))}return r(),t})();var b=i(5553);let C=(()=>{var r;class t{static#e=r=()=>(this.\u0275fac=function(n){return new(n||t)},this.\u0275mod=e.$C({type:t}),this.\u0275inj=l.G2t({imports:[m.MD,p.YN,a.bv,P,b.h]}))}return r(),t})()}}]);
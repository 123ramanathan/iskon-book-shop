"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1060],{1060:(x,d,s)=>{s.r(d),s.d(d,{SalesPageModule:()=>C});var l=s(2200),u=s(4341),r=s(9893),g=s(8132),e=s(3664),h=s(4030),p=s(1562),f=s(385);function _(o,n){if(1&o&&(e.j41(0,"div",10)(1,"div",11),e.nrm(2,"ion-icon",12),e.j41(3,"div")(4,"h5",13),e.EFF(5),e.k0s(),e.j41(6,"p",14),e.EFF(7,"Total Sales"),e.k0s()()(),e.j41(8,"div",15),e.nrm(9,"ion-icon",16),e.j41(10,"div")(11,"h5",13),e.EFF(12),e.k0s(),e.j41(13,"p",14),e.EFF(14,"Revenue"),e.k0s()()(),e.j41(15,"div",17),e.nrm(16,"ion-icon",18),e.j41(17,"div")(18,"h5",13),e.EFF(19),e.k0s(),e.j41(20,"p",14),e.EFF(21,"Low Stock Items"),e.k0s()()(),e.j41(22,"div",19),e.nrm(23,"ion-icon",20),e.j41(24,"div")(25,"h5",13),e.EFF(26),e.k0s(),e.j41(27,"p",14),e.EFF(28,"Pending Inwards"),e.k0s()()()()),2&o){const a=e.XpG();e.R7$(5),e.JRh(a.report_details.overall_count),e.R7$(7),e.SpI("\u20b9 ",a.report_details.total_revenue),e.R7$(7),e.JRh(a.report_details.low_stock_items_count),e.R7$(7),e.JRh(null==a.report_details?null:a.report_details.pending_inventory_count)}}function b(o,n){if(1&o&&(e.j41(0,"div",21),e.nrm(1,"ion-icon",22),e.j41(2,"p",14),e.EFF(3),e.k0s()()),2&o){const a=n.$implicit;e.Y8G("routerLink",a.route),e.R7$(),e.Y8G("src",a.icon),e.R7$(2),e.JRh(a.label)}}let v=(()=>{var o;class n{constructor(i,t){this.db=i,this.router=t,this.report_details={},this.report_list=[{icon:"/assets/icon/today-sales.svg",value:"24",label:"Today's Sales"},{icon:"/assets/icon/revenue.svg",value:"\u20b912,450",label:"Revenue"},{icon:"/assets/icon/low-stock.svg",value:"3",label:"Low Stock Items"},{icon:"/assets/icon/week-sales.svg",value:"156",label:"This Week"}],this.quick_actions=[{icon:"/assets/icon/stock-reconcilation.svg",label:"Stock Reconciliation",route:"/stock-reconciliation"},{icon:"/assets/icon/stock-receipt.svg",label:"Stock Receipt",route:"/stock-receipt"},{icon:"/assets/icon/close-shift.svg",label:"Close Shift",route:"/close-shift"}]}ngOnInit(){}ionViewWillEnter(){this.db.headerDetails(),this.getDashboardDetails()}getDashboardDetails(){let i={pos_profile:this.db.header_content?this.db.header_content.store_name:localStorage.pos_profile?localStorage.pos_profile:"",user:localStorage.username};this.db.sales_details(i).subscribe(t=>{console.log(t,"sales details"),this.report_details=t&&"Success"==t.status&&t.message?t.message:{}})}openingPosEntry(){let i={user:localStorage.username};this.db.pos_opening_entry(i).subscribe(t=>{t&&t.message&&"Success"==t.status?(console.log(t,"pos opening entry"),this.router.navigateByUrl("/catalog")):this.db.presentToast(t.message.message,"error")})}handleRefresh(i){setTimeout(()=>{i.target.complete(),this.getDashboardDetails()},2e3)}static#e=o=()=>(this.\u0275fac=function(t){return new(t||n)(e.rXU(h.Db),e.rXU(p.Ix))},this.\u0275cmp=e.VBU({type:n,selectors:[["app-sales"]],standalone:!1,decls:13,vars:7,consts:[[3,"home"],[2,"--background","#f6f7f9",3,"fullscreen"],["slot","fixed",3,"ionRefresh","pullFactor","pullMin","pullMax"],[1,"main_section"],["fill","clear",3,"click"],["slot","start","name","cart-outline"],["class","sales_report",4,"ngIf"],[1,"quick_actions"],[1,"m-0"],["class","boxes",3,"routerLink",4,"ngFor","ngForOf"],[1,"sales_report"],["routerLink","/tabs/orders",1,"boxes"],["src","/assets/icon/today-sales.svg"],[1,"m-0","value"],[1,"m-0","label"],["routerLink","/tabs/reports",1,"boxes"],["src","/assets/icon/revenue.svg"],[1,"boxes"],["src","/assets/icon/low-stock.svg"],["routerLink","/stock-receipt",1,"boxes"],["src","/assets/icon/week-sales.svg"],[1,"boxes",3,"routerLink"],[3,"src"]],template:function(t,c){1&t&&(e.nrm(0,"app-header",0),e.j41(1,"ion-content",1)(2,"ion-refresher",2),e.bIt("ionRefresh",function(F){return c.handleRefresh(F)}),e.nrm(3,"ion-refresher-content"),e.k0s(),e.j41(4,"div",3)(5,"ion-button",4),e.bIt("click",function(){return c.openingPosEntry()}),e.nrm(6,"ion-icon",5),e.EFF(7,"Start New Sale"),e.k0s(),e.DNE(8,_,29,4,"div",6),e.j41(9,"div",7)(10,"h3",8),e.EFF(11,"Quick Actions"),e.k0s(),e.DNE(12,b,4,3,"div",9),e.k0s()()()),2&t&&(e.Y8G("home",!0),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(),e.Y8G("pullFactor",.5)("pullMin",100)("pullMax",200),e.R7$(6),e.Y8G("ngIf",c.report_details),e.R7$(4),e.Y8G("ngForOf",c.quick_actions))},dependencies:[l.Sq,l.bT,r.Jm,r.W9,r.iq,r.To,r.Ki,r.N7,g.Wk,f.l],styles:[".main_section[_ngcontent-%COMP%]{padding:1rem}.main_section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:4rem;width:100%;font-size:1rem;font-weight:600;--border-radius: calc(.75rem - 2px) }.main_section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:1rem!important}.main_section[_ngcontent-%COMP%]   .sales_report[_ngcontent-%COMP%]{margin-top:1.5rem;display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.main_section[_ngcontent-%COMP%]   .sales_report[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-radius:.75rem;display:flex;flex-direction:column;gap:.5rem;box-shadow:0 0 5px #ddd}.main_section[_ngcontent-%COMP%]   .sales_report[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.main_section[_ngcontent-%COMP%]   .sales_report[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;color:#6b7280}.main_section[_ngcontent-%COMP%]   .sales_report[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.3rem;line-height:2rem;font-weight:600}.main_section[_ngcontent-%COMP%]   .quick_actions[_ngcontent-%COMP%]{padding:1rem;border-radius:.75rem;margin-top:1.5rem;box-shadow:0 0 5px #ddd;background:#fff}.main_section[_ngcontent-%COMP%]   .quick_actions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;line-height:1.25rem;margin-bottom:.75rem}.main_section[_ngcontent-%COMP%]   .quick_actions[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]{background:#f6f7f9;border-radius:calc(.75rem - 2px);margin-bottom:.75rem;display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border:1px solid var(--border-col)}.main_section[_ngcontent-%COMP%]   .quick_actions[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:1rem;height:1rem;margin-right:.5rem}.main_section[_ngcontent-%COMP%]   .quick_actions[_ngcontent-%COMP%]   .boxes[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;line-height:1.25rem;font-weight:600}"]}))}return o(),n})();var m=s(2615);const P=[{path:"",component:v}];let k=(()=>{var o;class n{static#e=o=()=>(this.\u0275fac=function(t){return new(t||n)},this.\u0275mod=e.$C({type:n}),this.\u0275inj=m.G2t({imports:[g.iI.forChild(P),g.iI]}))}return o(),n})();var M=s(5553);let C=(()=>{var o;class n{static#e=o=()=>(this.\u0275fac=function(t){return new(t||n)},this.\u0275mod=e.$C({type:n}),this.\u0275inj=m.G2t({imports:[l.MD,u.YN,r.bv,k,M.h]}))}return o(),n})()}}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[546],{546:(x,g,c)=>{c.r(g),c.d(g,{CloseShiftPageModule:()=>S});var m=c(2200),_=c(4341),a=c(9893),d=c(8132),h=c(467),p=c(4221),t=c(3664),r=c(2615),f=c(4030),C=c(385);function u(e,o){if(1&e&&(t.j41(0,"div",14)(1,"p",15),t.EFF(2),t.k0s(),t.j41(3,"div",16)(4,"p",17),t.EFF(5),t.k0s(),t.j41(6,"p",18),t.EFF(7),t.k0s()()()),2&e){const s=o.$implicit,i=t.XpG(3);t.R7$(2),t.JRh(s.method),t.R7$(3),t.SpI("",s.count," transactions"),t.R7$(2),t.JRh(i.db.formatCurrency(s.amount))}}function P(e,o){if(1&e&&(t.j41(0,"div",19)(1,"p",6),t.EFF(2,"Total:"),t.k0s(),t.j41(3,"p",6),t.EFF(4),t.k0s()()),2&e){const s=t.XpG(3);t.R7$(4),t.JRh(s.db.formatCurrency((null==s.report_details||null==s.report_details.today_summary?null:s.report_details.today_summary.revenue)??0))}}function M(e,o){if(1&e&&(t.j41(0,"div",10)(1,"h3",6),t.EFF(2,"Payment Methods"),t.k0s(),t.j41(3,"div",11),t.DNE(4,u,8,3,"div",12),t.k0s(),t.DNE(5,P,5,1,"div",13),t.k0s()),2&e){const s=t.XpG(2);t.R7$(4),t.Y8G("ngForOf",s.report_details.payment_methods),t.R7$(),t.Y8G("ngIf",null==s.report_details?null:s.report_details.today_summary)}}function O(e,o){if(1&e){const s=t.RV6();t.j41(0,"div",3)(1,"div",4),t.nrm(2,"ion-icon",5),t.j41(3,"h2",6),t.EFF(4,"Close Shift"),t.k0s()(),t.DNE(5,M,6,2,"div",7),t.j41(6,"div",8)(7,"ion-button",9),t.bIt("click",function(){r.eBV(s);const n=t.XpG();return r.Njj(n.confirmCloseShift())}),t.EFF(8,"Close Shift"),t.k0s()()()}if(2&e){const s=t.XpG();t.R7$(5),t.Y8G("ngIf",s.report_details.payment_methods&&s.report_details.payment_methods.length>0)}}const y=[{path:"",component:(()=>{var e;class o{constructor(i,n){this.db=i,this.modalCtrl=n,this.report_details={}}ngOnInit(){}ionViewWillEnter(){this.get_reports()}get_reports(){const i={pos_profile:localStorage.store_name,user:localStorage.user_id};this.db.get_reports(i).subscribe(n=>{n.message&&(this.report_details=n.message)})}closeShift(){let i={user:localStorage.username};this.db.pos_closing_entry(i).subscribe(n=>{n&&n.message&&"Success"==n.status?(this.db.presentToast(n.message.message,"success"),this.db.logout()):this.db.presentToast(n.message.message,"error")})}confirmCloseShift(){var i=this;return(0,h.A)(function*(){const n=yield i.modalCtrl.create({component:p.T,componentProps:{headerText:"Confirm Close Shift",title:"Are you sure you want to Close Shift?",btn1:"Yes",btn2:"No"},cssClass:"confirm-modal"});yield n.present();const{data:l}=yield n.onWillDismiss();l?.confirmed&&i.closeShift()})()}static#t=e=()=>(this.\u0275fac=function(n){return new(n||o)(t.rXU(f.Db),t.rXU(a.W3))},this.\u0275cmp=t.VBU({type:o,selectors:[["app-close-shift"]],standalone:!1,decls:3,vars:5,consts:[[3,"home","title","backRoute"],[2,"--background","#f6f7f9",3,"fullscreen"],["class","main_section",4,"ngIf"],[1,"main_section"],[1,"sec_1"],["src","/assets/icon/close-shift-currency.svg"],[1,"m-0"],["class","payment_methods",4,"ngIf"],[1,"save_btn"],["fill","clear",3,"click"],[1,"payment_methods"],[1,"types_sec"],["class","secs",4,"ngFor","ngForOf"],["class","expected_closing",4,"ngIf"],[1,"secs"],[1,"m-0","type"],[1,"cost_sec"],[1,"m-0","transaction"],[1,"m-0","amount"],[1,"expected_closing"]],template:function(n,l){1&n&&(t.nrm(0,"app-header",0),t.j41(1,"ion-content",1),t.DNE(2,O,9,1,"div",2),t.k0s()),2&n&&(t.Y8G("home",!1)("title","Close Shift")("backRoute","/tabs/sales"),t.R7$(),t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngIf",l.report_details))},dependencies:[m.Sq,m.bT,a.Jm,a.W9,a.iq,C.l],styles:[".main_section[_ngcontent-%COMP%]{padding:1rem}.main_section[_ngcontent-%COMP%]   .sec_1[_ngcontent-%COMP%]{margin-bottom:1rem;padding:1.5rem;background:#fff;box-shadow:0 0 5px #ddd;border-radius:.75rem;display:flex;align-items:center;flex-direction:column}.main_section[_ngcontent-%COMP%]   .sec_1[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:3rem;height:3rem}.main_section[_ngcontent-%COMP%]   .sec_1[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem;font-weight:700;margin-bottom:.5rem}.main_section[_ngcontent-%COMP%]   .sec_1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;color:#6b7280;margin-bottom:.5rem}.main_section[_ngcontent-%COMP%]   .payment_methods[_ngcontent-%COMP%]{padding:1.5rem;border-radius:.75rem;border:1px solid var(--border-col);background:#fff;margin-block:1.5rem}.main_section[_ngcontent-%COMP%]   .payment_methods[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#6b7280;font-weight:600;font-size:.875rem;line-height:1.25rem;margin-bottom:1rem}.main_section[_ngcontent-%COMP%]   .payment_methods[_ngcontent-%COMP%]   .types_sec[_ngcontent-%COMP%]   .secs[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem}.main_section[_ngcontent-%COMP%]   .payment_methods[_ngcontent-%COMP%]   .types_sec[_ngcontent-%COMP%]   .secs[_ngcontent-%COMP%]:last-child{margin-bottom:unset!important}.main_section[_ngcontent-%COMP%]   .payment_methods[_ngcontent-%COMP%]   .types_sec[_ngcontent-%COMP%]   .secs[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.main_section[_ngcontent-%COMP%]   .payment_methods[_ngcontent-%COMP%]   .types_sec[_ngcontent-%COMP%]   .secs[_ngcontent-%COMP%]   .cost_sec[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.main_section[_ngcontent-%COMP%]   .payment_methods[_ngcontent-%COMP%]   .types_sec[_ngcontent-%COMP%]   .secs[_ngcontent-%COMP%]   .cost_sec[_ngcontent-%COMP%]   .transaction[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;line-height:1rem;padding:.125rem .625rem;background-color:#f0f2f4;display:inline-flex;align-items:center;border-radius:9999px}.main_section[_ngcontent-%COMP%]   .payment_methods[_ngcontent-%COMP%]   .types_sec[_ngcontent-%COMP%]   .secs[_ngcontent-%COMP%]   .cost_sec[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;line-height:1.25rem}.main_section[_ngcontent-%COMP%]   .payment_methods[_ngcontent-%COMP%]   .expected_closing[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:2rem;padding:.75rem;background:#22295e0d;border-radius:.75rem}.main_section[_ngcontent-%COMP%]   .payment_methods[_ngcontent-%COMP%]   .expected_closing[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){font-weight:500;font-size:1rem;line-height:1.5rem}.main_section[_ngcontent-%COMP%]   .payment_methods[_ngcontent-%COMP%]   .expected_closing[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){color:#22295e;font-weight:700;font-size:1.25rem;line-height:1.75rem}.main_section[_ngcontent-%COMP%]   .save_btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 2rem;--padding-end: 2rem;--padding-top: .75rem;--padding-bottom: .75rem;width:100%;font-size:.875rem;line-height:1.25rem;font-weight:600;--border-radius: calc(.75rem - 2px) ;height:45px}.main_section[_ngcontent-%COMP%]   .save_btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:1rem}"]}))}return e(),o})()}];let b=(()=>{var e;class o{static#t=e=()=>(this.\u0275fac=function(n){return new(n||o)},this.\u0275mod=t.$C({type:o}),this.\u0275inj=r.G2t({imports:[d.iI.forChild(y),d.iI]}))}return e(),o})();var v=c(5553);let S=(()=>{var e;class o{static#t=e=()=>(this.\u0275fac=function(n){return new(n||o)},this.\u0275mod=t.$C({type:o}),this.\u0275inj=r.G2t({imports:[m.MD,_.YN,a.bv,b,v.h]}))}return e(),o})()}}]);